# 文件

## 函数

### formatFileSize()

```ts
function formatFileSize(size: number): string;
```

格式化文件大小自动转为 B，KB，MB，GB

#### 参数

##### size

`number`

文件的大小，单位byte字节

#### 返回

`string`

返回格式化后的字符串

***

### getFileName()

```ts
function getFileName(fileName: string): string | undefined;
```

获得文件名称

#### 参数

##### fileName

`string`

文件的全名称，例如：测试图片.jpg

#### 返回

`string` \| `undefined`

返回文件的名称

***

### getFileSuffix()

```ts
function getFileSuffix(value: string): string | undefined;
```

获得文件后缀名

#### 参数

##### value

`string`

文件地址路径或者文件全名称，例如：http://xxx.com/mytest.jpg，测试图片.jpg

#### 返回

`string` \| `undefined`

返回文件后缀名

***

### fileToBlob()

```ts
function fileToBlob(file: File): Promise<Blob>;
```

file转blob

#### 参数

##### file

`File`

file文件

#### 返回

`Promise`\<`Blob`\>

返回Promise的blob

***

### fileToBase64()

```ts
function fileToBase64(file: File): Promise<string>;
```

file转base64

#### 参数

##### file

`File`

file文件

#### 返回

`Promise`\<`string`\>

返回Promise的base64

***

### fileToUrl()

```ts
function fileToUrl(file: File): Promise<string>;
```

file转url

#### 参数

##### file

`File`

file文件

#### 返回

`Promise`\<`string`\>

返回Promise的url

#### Description

适用于本地上传图片并预览，需要注意 URL.revokeObjectURL(file) 内存释放

***

### urlToFile()

```ts
function urlToFile(url: string): Promise<File>;
```

url赚file

#### 参数

##### url

`string`

url地址

#### 返回

`Promise`\<`File`\>

返回Promise的file

***

### blobToFile()

```ts
function blobToFile(blob: Blob, fileName: string): Promise<File>;
```

blob转file

#### 参数

##### blob

`Blob`

blob数据

##### fileName

`string` = `...`

文件名称，默认以时间戳命名

#### 返回

`Promise`\<`File`\>

返回Promise的file

***

### blobToText()

```ts
function blobToText(blob: Blob): Promise<string>;
```

blob转文本

#### 参数

##### blob

`Blob`

blob数据

#### 返回

`Promise`\<`string`\>

返回Promise的文本

***

### blobToBase64()

```ts
function blobToBase64(blob: Blob): Promise<string>;
```

blob转base64

#### 参数

##### blob

`Blob`

blob数据

#### 返回

`Promise`\<`string`\>

返回Promise的base64

***

### base64ToFile()

```ts
function base64ToFile(base64: string, fileName: string): Promise<File>;
```

base64转file

#### 参数

##### base64

`string`

base64数据

##### fileName

`string` = `...`

文件名称，默认以时间戳命名

#### 返回

`Promise`\<`File`\>

返回Promise的file

***

### base64ToBlob()

```ts
function base64ToBlob(base64: string): Promise<Blob>;
```

base64转成blob

#### 参数

##### base64

`string`

base64数据

#### 返回

`Promise`\<`Blob`\>

返回Promise的blob

***

### urlToBase64()

```ts
function urlToBase64(imgUrl: string): Promise<string>;
```

图片url转base64

#### 参数

##### imgUrl

`string`

图片url地址

#### 返回

`Promise`\<`string`\>

返回Promise的base64

***

### downloadBlobFile()

```ts
function downloadBlobFile(blob: Blob, fileName: string): void;
```

下载blob格式的文件

#### 参数

##### blob

`Blob`

blob数据

##### fileName

`string`

下载的文件名，不写后缀名则默认为原文件类型

#### 返回

`void`

***

### downloadFileUrl()

```ts
function downloadFileUrl(fileUrl: string, fileName: string): void;
```

通过文件url地址下载

#### 参数

##### fileUrl

`string`

url文件地址

##### fileName

`string`

下载的文件名，不写后缀名则默认为原文件类型

#### 返回

`void`
