# 加解密算法

## 接口

### SM4Options

sm4通用配置

#### 属性

##### mode?

```ts
optional mode: "ECB" | "CBC";
```

##### iv?

```ts
optional iv: SM4DataType;
```

##### padding?

```ts
optional padding: "pkcs#7";
```

##### output?

```ts
optional output: "HEX" | "UTF8" | "ARRAY" | "UINT8ARRAY" | "ARRAYBUFFER";
```

## 类型别名

### SM4DataType

```ts
type SM4DataType = string | Uint8Array | ArrayBuffer | number[];
```

sm4传参和返回的类型，不管是传参还是返回值固定是这几个

## 变量

### generateSM4Key()

```ts
const generateSM4Key: (inputFormat?: string) => SM4DataType;
```

生成sm4的key

#### 参数

##### inputFormat?

`string`

输入类型 可以任意字符串，其中固定的uint8array、array、hex这3个字符串，会对应生成类型数据

#### 返回

[`SM4DataType`](#sm4datatype)

生成的key

***

### generateSM4Iv()

```ts
const generateSM4Iv: (inputFormat?: string) => SM4DataType;
```

生成sm4的iv

#### 参数

##### inputFormat?

`string`

输入类型 可以任意字符串，其中固定的uint8array、array、hex这3个字符串，会对应生成类型数据

#### 返回

[`SM4DataType`](#sm4datatype)

生成的iv

***

### SM4

```ts
const SM4: {
  MODE: {
     ECB: string;
     CBC: string;
  };
  PADDING: string;
  OUTPUT: {
     HEX: string;
     UTF8: string;
     ARRAY: string;
     UINT8ARRAY: string;
     ARRAYBUFFER: string;
  };
};
```

#### 类型声明

##### MODE

```ts
MODE: {
  ECB: string;
  CBC: string;
} = sm4.MODE;
```

###### MODE.ECB

```ts
ECB: string = SM4_MODE_ECB;
```

###### MODE.CBC

```ts
CBC: string = SM4_MODE_CBC;
```

##### PADDING

```ts
PADDING: string = sm4.PADDING;
```

##### OUTPUT

```ts
OUTPUT: {
  HEX: string;
  UTF8: string;
  ARRAY: string;
  UINT8ARRAY: string;
  ARRAYBUFFER: string;
} = sm4.OUTPUT;
```

###### OUTPUT.HEX

```ts
HEX: string = SM4_OUTPUT_HEX;
```

###### OUTPUT.UTF8

```ts
UTF8: string = SM4_OUTPUT_UTF8;
```

###### OUTPUT.ARRAY

```ts
ARRAY: string = SM4_OUTPUT_ARRAY;
```

###### OUTPUT.UINT8ARRAY

```ts
UINT8ARRAY: string = SM4_OUTPUT_UINT8ARRAY;
```

###### OUTPUT.ARRAYBUFFER

```ts
ARRAYBUFFER: string = SM4_OUTPUT_ARRAYBUFFER;
```

## 函数

### base64Encode()

```ts
function base64Encode(str: string, urlSafe: boolean): string;
```

Base64编码

#### 参数

##### str

`string`

待编码的UTF8字符串

##### urlSafe

`boolean` = `false`

是否生成URL安全的Base64（默认false）

#### 返回

`string`

Base64字符串

***

### base64Decode()

```ts
function base64Decode(str: string): string;
```

Base64解码

#### 参数

##### str

`string`

待解码的Base64字符串

#### 返回

`string`

解码后的UTF8字符串

***

### base64EncodeURI()

```ts
function base64EncodeURI(str: string): string;
```

URL安全Base64编码

#### 参数

##### str

`string`

待编码的UTF8字符串

#### 返回

`string`

URL安全的Base64字符串

***

### base64DecodeURI()

```ts
function base64DecodeURI(str: string): string;
```

URL安全Base64解码

#### 参数

##### str

`string`

待解码的URL安全Base64字符串

#### 返回

`string`

解码后的UTF8字符串

***

### base64FromUint8Array()

```ts
function base64FromUint8Array(uint8Array: Uint8Array, urlSafe: boolean): string;
```

Uint8Array转Base64字符串

#### 参数

##### uint8Array

`Uint8Array`

待编码的字节数组

##### urlSafe

`boolean` = `false`

是否生成URL安全的Base64（默认false）

#### 返回

`string`

Base64字符串

***

### base64ToUint8Array()

```ts
function base64ToUint8Array(base64Str: string, urlSafe: boolean): Uint8Array;
```

Base64字符串转Uint8Array

#### 参数

##### base64Str

`string`

待解码的Base64字符串

##### urlSafe

`boolean` = `false`

是否为URL安全的Base64（默认false）

#### 返回

`Uint8Array`

解码后的字节数组

***

### base64FromHex()

```ts
function base64FromHex(hexStr: string, urlSafe: boolean): string;
```

十六进制字符串转Base64字符串

#### 参数

##### hexStr

`string`

待编码的十六进制字符串

##### urlSafe

`boolean` = `false`

是否生成URL安全的Base64（默认false）

#### 返回

`string`

Base64字符串

***

### base64ToHex()

```ts
function base64ToHex(base64Str: string, urlSafe: boolean): string;
```

Base64字符串转十六进制字符串

#### 参数

##### base64Str

`string`

待解码的Base64字符串

##### urlSafe

`boolean` = `false`

是否为URL安全的Base64（默认false）

#### 返回

`string`

解码后的十六进制字符串

***

### md5()

```ts
function md5(str: string): string;
```

md5 加密

#### 参数

##### str

`string`

字符串

#### 返回

`string`

返回加密后的十六进制字符串

***

### md5Raw()

```ts
function md5Raw(str: string): any;
```

md5 加密

#### 参数

##### str

`string`

字符串

#### 返回

`any`

返回加密后的二进制原始值

***

### md5Hmac()

```ts
function md5Hmac(str: string, key: string): string;
```

md5_hmac 加密

#### 参数

##### str

`string`

字符串

##### key

`string`

秘钥

#### 返回

`string`

返回加密后的十六进制字符串

***

### md5HmacRaw()

```ts
function md5HmacRaw(str: string, key: string): any;
```

md5_hmac 加密

#### 参数

##### str

`string`

字符串

##### key

`string`

秘钥

#### 返回

`any`

返回加密后的二进制原始值

***

### sha256()

```ts
function sha256(str: string): string;
```

sha256 加密

#### 参数

##### str

`string`

字符串

#### 返回

`string`

返回加密后的字符串

***

### sha256Raw()

```ts
function sha256Raw(str: string): any;
```

sha256_raw 加密

#### 参数

##### str

`string`

字符串

#### 返回

`any`

返回加密后的原始值

***

### sha256Hmac()

```ts
function sha256Hmac(str: string, key: string): string;
```

sha256_hmac 加密

#### 参数

##### str

`string`

字符串

##### key

`string`

秘钥

#### 返回

`string`

返回加密后的字符串

***

### sha256HmacRaw()

```ts
function sha256HmacRaw(str: string, key: string): any;
```

sha256_hmac_raw 加密

#### 参数

##### str

`string`

字符串

##### key

`string`

秘钥

#### 返回

`any`

返回加密后的原始值

***

### sha224()

```ts
function sha224(str: string): string;
```

sha224 加密

#### 参数

##### str

`string`

字符串

#### 返回

`string`

返回加密后的字符串

***

### sha224Raw()

```ts
function sha224Raw(str: string): any;
```

sha224_raw 加密

#### 参数

##### str

`string`

字符串

#### 返回

`any`

返回加密后的原始值

***

### sha224Hmac()

```ts
function sha224Hmac(str: string, key: string): string;
```

sha224_hmac 加密

#### 参数

##### str

`string`

字符串

##### key

`string`

秘钥

#### 返回

`string`

返回加密后的字符串

***

### sha224HmacRaw()

```ts
function sha224HmacRaw(str: string, key: string): any;
```

sha224_hmac_raw 加密

#### 参数

##### str

`string`

字符串

##### key

`string`

秘钥

#### 返回

`any`

返回加密后的原始值

***

### sm3Encrypt()

```ts
function sm3Encrypt(str: string): string;
```

sm3 加密

#### 参数

##### str

`string`

字符串

#### 返回

`string`

返回加密后的字符串

***

### sm3EncryptHmac()

```ts
function sm3EncryptHmac(str: string, key: string): string;
```

sm3_hmac 加密

#### 参数

##### str

`string`

字符串

##### key

`string`

配置

#### 返回

`string`

返回加密后的字符串

***

### sm4Encrypt()

```ts
function sm4Encrypt(
   str: string, 
   key: SM4DataType, 
   options?: SM4Options): SM4DataType;
```

sm4 加密

#### 参数

##### str

`string`

字符串

##### key

[`SM4DataType`](#sm4datatype)

秘钥

##### options?

[`SM4Options`](#sm4options)

配置

#### 返回

[`SM4DataType`](#sm4datatype)

加密后的字符串

***

### sm4Decrypt()

```ts
function sm4Decrypt(
   str: string, 
   key: SM4DataType, 
   options?: SM4Options): SM4DataType;
```

sm4 解密

#### 参数

##### str

`string`

字符串

##### key

[`SM4DataType`](#sm4datatype)

秘钥

##### options?

[`SM4Options`](#sm4options)

配置

#### 返回

[`SM4DataType`](#sm4datatype)

解密后的数据
