!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).LimeDate=t()}(this,function(){function i(e){return Number.isInteger(e)}function g(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)}function D(e){return null==e||""==e}function f(e){return D(e)||!(Object.keys(e)||e).length}function o(e,t=10){return Number.parseInt(e,t)}let s={zh:{AM:"上午",PM:"下午"},en:{AM:"AM",PM:"PM"}},l={zh:{FULL:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],SHORT:["周日","周一","周二","周三","周四","周五","周六"],MINI:["日","一","二","三","四","五","六"]},en:{FULL:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],SHORT:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MINI:["Su","Mo","Tu","We","Th","Fr","Sa"]}},c={zh:{FULL:["第一季度","第二季度","第三季度","第四季度"],SHORT:["一季度","二季度","三季度","四季度"],MINI:["一","二","三","四"]},en:{FULL:["quarter 1st","quarter 2nd","quarter 3rd","quarter 4th"],SHORT:["Q1th","Q2nd","Q3rd","Q4th"],MINI:["Q1","Q2","Q3","Q4"]}},M={zh:{YEAR:"年",MONTH:"月",DATE:"日",HOUR:"时",MINUTE:"分",SECOND:"秒",MILLISECOND:"毫秒",DAY:"天",QUARTER:"季度"},en:{YEAR:"year",MONTH:"month",DATE:"date",HOUR:"hour",MINUTE:"minute",SECOND:"second",MILLISECOND:"millisecond",DAY:"day",QUARTER:"quarter"}},h={zh:{YEAR:"年前",MONTH:"个月前",DAY:"天前",BEFORE_YESTERDAY:"前天",YESTERDAY:"昨天",TODAY:"今天",HOUR:"小时前",MINUTE:"分钟前",JUST:"刚刚"},en:{YEAR:" year ago",MONTH:" month ago",DAY:" day ago",BEFORE_YESTERDAY:"before yesterday",YESTERDAY:" yesterday",TODAY:" today",HOUR:" hour ago",MINUTE:" minute ago",JUST:" just"}};function n(e=new Date){e=e.getFullYear();return e%100!=0&&e%4==0||e%400==0}function r(e,t=new Date){return e.getTime()-t.getTime()<0}function a(e,t=new Date){return 0<e.getTime()-t.getTime()}function u(t,n){return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())}function e(e=new Date,t="yyyy-MM-dd"){return m(e,t)}function t(e=new Date){return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}}function w(e=new Date){return[7,1,2,3,4,5,6][e.getDay()]}function d(e=new Date){return e.getDate()}function y(e=new Date){return Math.ceil((e-new Date(e.getFullYear().toString()))/864e5)+1}function Y(e=new Date){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function T(e=new Date){return n(e)?366:365}function O(e=new Date,t=1){return e.setDate(e.getDate()+t),e}function m(n,e="yyyy-MM-dd",a="zh"){if(!D(n)){if(g(n))n=S(n);else if(t=n,"Date"!==Object.prototype.toString.call(t).slice(8,-1))if(i(n)&&13===String(n).length)n=new Date(n);else{if(!i(n)||10!==String(n).length)return console.error("Not supported date format!"),n;n=new Date(1e3*n)}let r={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours()%12==0?12:n.getHours()%12,"H+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"S+":n.getMilliseconds(),"a+":n.getHours()<12?"am":"pm","A+":n.getHours()<12?"AM":"PM","E+":n.getDay(),"Q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};var t=new RegExp(/(y+)/g),u=(t.test(e)&&(e=e.replace(t,function(e,t){return(n.getFullYear()+"").substring(4-t.length)})),new RegExp(/((b+)|(A+))/g)),u=(u.test(e)&&(e=e.replace(u,function(e,t){return 1<t.length?n.getHours()<12?s[a].AM:s[a].PM:t===t.toLowerCase()?(n.getHours()<12?s.en.AM:s.en.PM).toLowerCase():n.getHours()<12?s.en.AM:s.en.PM})),new RegExp(/(E+)/g)),u=(u.test(e)&&(e=e.replace(u,function(e,t){return(1===t.length?l[a].MINI:2===t.length?l[a].SHORT:l[a].FULL)[n.getDay()]})),new RegExp(/(Q+)/g));u.test(e)&&(e=e.replace(u,function(e,t){return(1===t.length?c[a].MINI:2===t.length?c[a].SHORT:c[a].FULL)[Math.floor((n.getMonth()+3)/3)-1]}));for(let n in r){var o=new RegExp("("+n+")");o.test(e)&&(e=e.replace(o,function(e,t){return 1===t.length?r[n]:(2===t.length?"00"+r[n]:"000"+r[n]).substring((""+r[n]).length)}))}return e}}function S(e){if(!D(e))return g(e)?new Date(e.replace(/-/g,"/")):i(e)&&13===String(e).length?new Date(e):i(e)&&10===String(e).length?new Date(1e3*e):(console.error("Not supported date format!"),e)}function F(e){return(e=e.toString())[1]?e:"0"+e}return{loadedTest:function(){console.log("lime-date loaded successfully!")},...Object.freeze({__proto__:null,today:function(){return e()},yesterday:function(){return m(O(new Date,-1))},tomorrow:function(){return m(O(new Date,1))},lastWeek:function(e=new Date){return m(O(e,-7))},nextWeek:function(e=new Date){return m(O(e,7))},lastMonth:function(e=new Date){return m(O(e,-30))},nextMonth:function(e=new Date){return m(O(e,30))},lastYear:function(e=new Date){return m(O(e,-365))},nextYear:function(e=new Date){return m(O(e,365))},isAM:function(e=new Date){return e.getHours()<12},isPM:function(e=new Date){return 12<=e.getHours()},isToday:function(t=new Date){let n=new Date;return["getFullYear","getMonth","getDate"].every(e=>n[e]()===t[e]())},isYesterday:function(e=new Date){return e=e.getTime(),1===o((Date.now()-e)/864e5)},isBeforeYesterday:function(e=new Date){return e=e.getTime(),2===o((Date.now()-e)/864e5)},isTomorrow:function(e=new Date){return 1===o((e.getTime()-Date.now())/864e5)},isAfterTomorrow:function(e=new Date){return 2===o((e.getTime()-Date.now())/864e5)},isWorkday:function(e=new Date){return 6!==(e=w(e))&&7!==e},isWeekend:function(e=new Date){return 6===(e=w(e))||7===e},isFirstDayOfWeek:function(e=new Date){return 1===w(e)},isLastDayOfWeek:function(e=new Date){return 7===w(e)},isFirstDayOfMonth:function(e=new Date){return 1===d(e)},isLastDayOfMonth:function(e=new Date){return d(e)===Y(e)},isFirstDayOfYear:function(e=new Date){return 1===y(e)},isLastDayOfYear:function(e=new Date){return y(e)===T(e)},isLeapYear:n,isCommonYear:function(e=new Date){return!n(e)},isBefore:r,isAfter:a,isBetween:function(e,t,n){return e=e.getTime(),t=t.getTime(),n=n.getTime(),t<e&&e<n},isSame:u,isSameWeek:function(e,t){return e=e.getTime()/864e5,t=t.getTime()/864e5,o((4+e)/7)===o((4+t)/7)},isSameMonth:function(t,n){return["getFullYear","getMonth"].every(e=>t[e]()===n[e]())},isSameYear:function(t,n){return["getFullYear"].every(e=>t[e]()===n[e]())},isSameOrBefore:function(e,t){return u(e,t)||r(e,t)},isSameOrAfter:function(e,t){return u(e,t)||a(e,t)},getNow:function(){return new Date},getDate:e,getDateTime:function(e=new Date,t="yyyy-MM-dd HH:mm:ss"){return m(e,t)},getTimestamp:function(e=new Date){return e.getTime()},getUnixTimestamp:function(e=new Date){return Math.round(e/1e3)},getDateObject:t,getDateArray:function(e=new Date){return Object.entries(t(e)).map(([,e])=>e)},getWeek:function(e=new Date,t="E",n="zh"){return"E"===t?("zh"===n?["日","一","二","三","四","五","六"]:["Su","Mo","Tu","We","Th","Fr","Sa"])[e.getDay()]:"EE"===t?("zh"===n?["周日","周一","周二","周三","周四","周五","周六"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])[e.getDay()]:"EEE"===t?("zh"===n?["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"])[e.getDay()]:w(e)},getQuarter:function(e=new Date,t="Q",n="zh"){return"Q"===t?("zh"===n?["一","二","三","四"]:["Q1","Q2","Q3","Q4"])[Math.floor((e.getMonth()+3)/3)-1]:"QQ"===t?("zh"===n?["一季度","二季度","三季度","四季度"]:["Q1th","Q2nd","Q3rd","Q4th"])[Math.floor((e.getMonth()+3)/3)-1]:"QQQ"===t?("zh"===n?["第一季度","第二季度","第三季度","第四季度"]:["quarter 1st","quarter 2nd","quarter 3rd","quarter 4th"])[Math.floor((e.getMonth()+3)/3)-1]:Math.floor((e.getMonth()+3)/3)},getDayOfWeek:w,getDayOfMonth:d,getDayOfYear:y,getWeekOfMonth:function(e=new Date){return Math.ceil((e.getDate()+6-w(e))/7)},getWeekOfYear:function(e=new Date){var t=new Date(e.getFullYear(),0,1),n=w(t),e=Math.round((e-t)/864e5);return Math.ceil((e+n)/7)},getDaysOfWeek:function(e=new Date){return 7},getDaysOfMonth:Y,getDaysOfYear:T,getWeeksOfMonth:function(e=new Date){var t=w(new Date(e.getFullYear(),0,1)),e=n(e)?366:365;return 1===t?Math.ceil(e/7):Math.ceil((e-7+t)/7)},getWeeksOfYear:function(e=new Date){var t=w(new Date(e.getFullYear(),0,1)),e=n(e)?366:365;return 1===t?Math.ceil(e/7):Math.ceil((e-7+t)/7)},getFirstDateOfWeek:function(e=new Date){var t=w(e);return e.setDate(e.getDate()-t+1),m(e)},getLastDateOfWeek:function(e=new Date){var t=w(e);return e.setDate(e.getDate()+(7-t)),m(e)},getFullDateOfWeek:function(e=new Date){var t=[],n=e.getDay(),r=new Date;r.setDate(e.getDate()-(0===n?6:n-1));for(let e=0;e<7;e++){var a=new Date(r);a.setDate(a.getDate()+e),t.push(m(a))}return t},getFirstDateOfMonth:function(e=new Date){return e.setDate(1),m(e)},getLastDateOfMonth:function(e=new Date){return m(new Date(e.getFullYear(),e.getMonth()+1,0))},getFullDateOfMonth:function(e=new Date){var t=[],n=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0);for(let e=0;e<r.getDate();e++){var a=new Date(n);a.setDate(n.getDate()+e),t.push(a)}return t},getFirstDateOfYear:function(e=new Date){return new Date(e.getFullYear(),0,1)},getLastDateOfYear:function(e=new Date){return new Date(e.getFullYear(),11,31)},getFullDateOfYear:function(e=new Date){var t=[],n=new Date(e.getFullYear(),0,1),r=T();for(let e=0;e<r;e++){var a=new Date(n);a.setDate(n.getDate()+e),t.push(a.toLocaleDateString())}return t},getDiffDay:function(e,t){return f(e)||f(t)?0:0<=(t=(t-e)/864e5)?Math.abs(t):t},getDiffWeek:function(e,t){return f(e)||f(t)?0:0<=(t=(t-e)/6048e5)?Math.abs(t):t},getDiffMonth:function(e,t){return f(e)||f(t)?0:0<=(e=(e-t)/2592e6)?Math.abs(e):e},getDiffYear:function(e,t){return f(e)||f(t)?0:0<=(t=(t-e)/31104e6)?Math.abs(t):t},getBetweenDates:function(e,t){if(f(e)||f(t))return[];for(var n=[];0<=t-e;){var r=e.getFullYear(),a=F(e.getMonth()+1),u=F(e.getDate());n.push(r+"-"+a+"-"+u),e.setDate(e.getDate()+1)}return n},getBetweenMonths:function(e,t){if(f(e)||f(t))return[];var n=[],r=new Date,a=new Date,u=(r.setFullYear(e.getFullYear(),e.getMonth()+1),a.setFullYear(t.getFullYear(),t.getMonth()+1),r);let o="";for(;u<=a;){var i=u.getMonth();o=0===i?u.getFullYear()-1+"-12":u.getFullYear()+"-"+F(i),n.push(o),u.setMonth(i+1)}return n},getBetweenYears:function(e,t){if(f(e)||f(t))return[];for(var n=[];0<=t-e;){var r=e.getFullYear();n.push(r),e.setFullYear(e.getFullYear()+1)}return n},getPastTime:function(e,t="zh"){var n,r,a,u;return D(e)?"--":(e=e.getTime(),n=o((e=Date.now()-e)/31104e6),r=o(e/2592e6),a=o(e/864e5),u=o(e/36e5),e=o(e/6e4),n?n+h[t].YEAR:r?r+h[t].MONTH:a?1===a?h[t].YESTERDAY:2===a?h[t].BEFORE_YESTERDAY:a+h[t].DAY:u?12<u?h[t].TODAY:u+h[t].HOUR:e?e+h[t].MINUTE:h[t].JUST)},getOverTime:function(e,t="zh"){if(D(e))return"--";var n=new Date,e=e.getTime()-n.getTime();let r=0,a=0,u=0,o=0;return 0<=e&&(r=Math.floor(e/1e3/3600/24),a=Math.floor(e/1e3/60/60%24),u=Math.floor(e/1e3/60%60),o=Math.floor(e/1e3%60)),""+r+M[t].DAY+` ${a}${M[t].HOUR} ${u}${M[t].MINUTE} `+o+M[t].SECOND},addYear:function(e=new Date,t=1){return e.setFullYear(e.getFullYear()+t),e},addMonth:function(e=new Date,t=1){return e.setMonth(e.getMonth()+t),e},addDate:O,addHours:function(e=new Date,t=1){return e.setHours(e.getHours()+t),e},addMinutes:function(e=new Date,t=1){return e.setMinutes(e.getMinutes()+t),e},addSeconds:function(e=new Date,t=1){return e.setSeconds(e.getSeconds()+t),e},addMillisecond:function(e=new Date,t=100){return e.setMilliseconds(e.getMilliseconds()+t),e},addWeek:function(e=new Date,t=1){return e.setDate(e.getDate()+7*t),e},addQuarter:function(e=new Date,t=1){return e.setMonth(e.getMonth()+4*t),e},toDateString:m,toDate:S})}});
