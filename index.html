<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>前端模块化 JavaScript 工具库</title>
</head>
<body>
<!-- 通过vite启动服务器，直接使用模块的ts文件测试 -->
<script type="module">
  import * as iUtils from "./src/index.ts";

  iUtils.testLoaded();

  // 统计function api的数量
  let num = 0;
  Object.keys(iUtils).forEach((key) => {
    // 是function api
    if (typeof iUtils[key] === "function" && key !== "testLoaded") {
      num++;
    }
    // 对象中包含function api，比如sm2，base64等加密算法的api
    if (typeof iUtils[key] === "object") {
      Object.keys(iUtils[key]).forEach((objKey) => {
        if (typeof iUtils[key][objKey] === "function") {
          num++;
        }
      });
    }
  });
  console.log(`iUtils一共 ${num} 个api`, iUtils);
</script>

<!-- 测试api入口 -->
<script type="module">
  import * as iUtils from "./src/index.ts";

</script>

</body>
</html>
